[{"title":"Post-signup workflow","subtitle":"Handles all post-signup logic, including fan-out \u0026 emails","tags":["signup","marketing","sales","operations"],"description":"\n\n# Post-signup workflow example\n\nThis workflow runs after every `signup.new` event.  Each time a user signs up,\nthe workflow sends the user a welcome email and adds the user to Close.IO for\nsales followup, and adds the user to a marketing list - if the event data\nsays they've subscribed to a newsletter.\n\nYou can change out any of the example integrations easily, such as using\nSendgrid instead of Mandrill - or Salesforce instead of Close.io.  It's also a\ngood idea to add the user to places like Zendesk.\n\n## How this helps\n\n- Engineers don't have to write the initial integrations or spend time working\non non-product requests\n- Biz ops, sales, and marketing can be kept in the loop and make changes to\nthings like mailing lists etc.\n- Any time integrations change (which happens as a company ages), it's easy to\nversion and update the workflows with new integrations\n- It's easy to debug which users ran through which versions of a workflow\nvia the built in audit trails\n","workflow":"package main\n\nimport (\n\t\"inngest.com/workflows\"\n)\n\nworkflow: workflows.#Workflow \u0026 {\n\tname: \"Post-signup workflow\"\n\n\ttriggers: [{\n\t\tevent: \"signup.new\"\n\t}]\n\n\tactions: [\n\t\t{\n\t\t\tclientID: 1\n\t\t\tname:     \"Send the user a welcome email\"\n\t\t\tdsn:      \"mailchimp.inngest.com/send-transactional-email\"\n\t\t\tmetadata: {\n\t\t\t\tto:         \"{{ event.user.email }}\"\n\t\t\t\tsubject:    \"Welcome to my service!\"\n\t\t\t\tfrom_email: \"hi@example.com\"\n\t\t\t\thtml:       \"\u003ch1\u003eHello {{ event.user.name }}!\u003c/h1\u003e\"\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tclientID: 2\n\t\t\tname:     \"Add the user to our marketing list\"\n\t\t\tdsn:      \"mailchimp.inngest.com/add-to-list\"\n\t\t\tmetadata: {\n\t\t\t\tlistID: \"example-id\"\n\t\t\t\temail:  \"{{ event.user.email }}\"\n\t\t\t\tstatus: \"subscribed\"\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tclientID: 3\n\t\t\tname:     \"Add the user as a Close lead\"\n\t\t\tdsn:      \"closeio.inngest.com/add-lead\"\n\t\t\tmetadata: {\n\t\t\t\tlistID: \"example-id\"\n\t\t\t\tname:   \"{{ event.user.name }}\"\n\t\t\t}\n\t\t},\n\t]\n\n\tedges: [\n\t\t{\n\t\t\toutgoing: \"trigger\"\n\t\t\tincoming: 1\n\t\t\tmetadata: {\n\t\t\t\ttype: \"edge\"\n\t\t\t\tname: \"\"\n\t\t\t\tif:   \"\"\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\toutgoing: \"trigger\"\n\t\t\tincoming: 2\n\t\t\tmetadata: {\n\t\t\t\ttype: \"edge\"\n\t\t\t\tname: \"Newsletter is true\"\n\t\t\t\tif:   \"event.data.newsletter == true\"\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\toutgoing: \"trigger\"\n\t\t\tincoming: 3\n\t\t\tmetadata: type: \"edge\"\n\t\t},\n\t]\n}\n"}]